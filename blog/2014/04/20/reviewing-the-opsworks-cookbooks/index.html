
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>reviewing the opsworks cookbooks - SiR by John Morales</title>
  <meta name="author" content="John Morales">

  
  <meta name="description" content="The most important thing when using OpsWorks if you come from a Chef Server
background is that its a fundamental shift in configuration management. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://JohnMorales.github.io/blog/2014/04/20/reviewing-the-opsworks-cookbooks">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="SiR by John Morales" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18377898-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:JohnMorales.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
  
    
      <h1 class="entry-title">Reviewing the Opsworks Cookbooks</h1>
    
  
    
      <p class="meta">
        








  


<time datetime="2014-04-20T16:26:35-04:00" pubdate data-updated="true">Apr 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>The most important thing when using OpsWorks if you come from a Chef Server
background is that its a fundamental shift in configuration management. The
traditional chef model is that the nodes always converge to the state defined
by the runlist. The client should poll for changes to the runlist or the recipe
list that is expanded to by the runlist. In the opsworks model, the clients are
not expected to poll for changes. Instead they are notified to converge to
specific states based on a few key events. So fundamentally the model is a push
instead of a pull.</p>

<p>In these events there are a few opsworks recipes that are run. There is no way
to not run them. After the OpsWorks cookbooks run then you have the opportunity
to provide your own custom cookbooks. In addition you can use a feature of Chef
that I was not aware of. You can override a AWS provided template or attribute in
your cookbook. <em>Note that you cannot override a recipe.</em></p>

<p>After reviewing the AWS OpsWorks documentation I head over to the opensource cookbooks:
The first thing I notice is that the documentation in the source code is sparse. I start with the Rakefile</p>

<h2>Rakefile</h2>

<p>The rakefile contains a suite of custom line based validators for coding standards.</p>

<p>task validate_literal_include:
  goes through all the ruby files and makes sure that it can find any recipes that are included.
task validate_attribute_dependencies
  goes through each attribute and checks for attribute references and include attribute references, makes sure that they true up. Seems useful.
task validate_syntax
  runs ruby -c on every ruby file.. also useful
task validate_best_pactrise
  runs foodcritic linter on the whole project
task validate_customize
  Every cookbook should include an customize.rb attribute?</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">John Morales</span></span>

      








  


<time datetime="2014-04-20T16:26:35-04:00" pubdate data-updated="true">Apr 20<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/aws/'>AWS</a>, <a class='category' href='/blog/categories/chef/'>Chef,</a>, <a class='category' href='/blog/categories/cookbooks/'>Cookbooks,</a>, <a class='category' href='/blog/categories/opsworks/'>OpsWorks,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://JohnMorales.github.io/blog/2014/04/20/reviewing-the-opsworks-cookbooks/" data-via="jm0rales" data-counturl="http://JohnMorales.github.io/blog/2014/04/20/reviewing-the-opsworks-cookbooks/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/04/18/my-thoughts-of-chefconf-2014/" title="Previous Post: My thoughts of ChefConf 2014">&laquo; My thoughts of ChefConf 2014</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/04/20/reviewing-the-opsworks-cookbooks/">reviewing the opsworks cookbooks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/18/my-thoughts-of-chefconf-2014/">My thoughts of ChefConf 2014</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/16/testing-express-with-mocha/">Testing express with mocha</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/26/embjerjs-is-a-more-than-just-model-view-controller/">EmbjerJS is a more than just Model View Controller</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/22/using-rails-composer-followup/">Using Rails Composer -- followup</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/johnmorales">@johnmorales</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'johnmorales',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - John Morales <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, customized with <a href="https://github.com/mjhea0/whiterspace">whiterspace</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'johnmorales';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://JohnMorales.github.io/blog/2014/04/20/reviewing-the-opsworks-cookbooks/';
        var disqus_url = 'http://JohnMorales.github.io/blog/2014/04/20/reviewing-the-opsworks-cookbooks/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
